{% extends 'base.html' %}

{% load static %}

{% block page_title %}Home{% endblock page_title %}

{% block main_content %}
{% for game in games  %}
<div class="row no-gutters mx-auto mx-xl-0 mb-3 game-container-expanded">
	<!-- #region ================== THUMBNAIL ======================================================================== -->
	<div class="game-thumb-large">
			<img class="game-thumb-large-img" src="{{ game.thumb_img.url }}" alt="{{ game.title }} cover image">

		
		<div class="pegi-overlay">
			<a href="https://pegi.info/what-do-the-labels-mean" target="_blank">
				<img src="{% static "img/pegi_18_60x73.png"%}" alt="{{ game.pegi }} age label">
			</a>
		</div>
	</div>
	<!-- #endregion -->
	<div class="d-flex flex-column align-items-start game-info mx-auto">
		<!-- #region =============== GAME TITLE =========================================================== -->
		<div class="game-title">
			<div class="invisible">
				<h2>{{ game.title }}</h2>
			</div>
			<span class="game-title-initial-cap">{{ game.title|slice:"1" }}</span><span
				class="game-title-text">{{game.title|slice:"1:"}}</span>
		</div>
				<!-- #endregion -->

		<div class="flex-row-2 w-100">
			<div class="row no-gutters w-100">
				<div class="col-8">
					<!-- #region ==== RELEASE DATE ========================================================= -->
					<div class="row no-gutters w-100 px-2 pt-2">
							Released {{ game.release_date }}
							{{ game.thumb_img }}
					</div>
					<!-- #endregion-->
					<!-- #region ==== PLATFORMS ============================================================ -->
					<div class="row no-gutters w-100 px-2 pt-2">
						<p class="txt-small">
							{% for platform in game.platforms.all %}
								{% if platform.show_icon %}
									{{ platform.logo_icon | safe }}
								{% elif platform.show_img and platform.logo_img != null %}
									<img class="icon_img" src="{{ platform.logo_img.url }}" alt="">
								{% endif %} 
							{{ platform.short_name}}
							{% endfor %}
						</p>
					</div>
					<!-- #endregion-->
					<!-- #region ==== DEV / PUBLISHER ====================================================== -->
					<div class="row d-none d-md-block no-gutters w-100 px-2 txt-small">
							Dev: {{ game.developer.short_name }} |
							Publ: {{ game.publisher.short_name }}
					</div>
				<!-- #endregion-->
				</div>
				<div class="col-4">
					<!-- #region ======== TAGS ===================================================================== -->
					<div class="tags text-right pt-2 pr-3">
						{% for tag in game.genre_tags.all %}
							<div  class="tag">
								{% if tag.show_name  %}
									<span>{{ tag.short_name | safe}}</span>
								{% endif %}
								{% if tag.show_icon  %}
									<span>{{ tag.tag_icon | safe}}</span>
								{% endif %}
							</div>
						{% endfor %}
						<br>
						{% for tag in game.theme_tags.all %}
							<div  class="tag">
								{% if tag.show_name  %}
									<span>{{ tag.short_name | safe}}</span>
								{% endif %}
								{% if tag.show_icon  %}
									<span>{{ tag.tag_icon | safe}}</span>
								{% endif %}
							</div>
						{% endfor %}
						<br>
						{% for tag in game.misc_tags.all %}
							<div  class="tag">
								{% if tag.show_name  %}
									<span>{{ tag.short_name | safe}}</span>
								{% endif %}
								{% if tag.show_icon  %}
									<span>{{ tag.tag_icon | safe}}</span>
								{% endif %}
							</div>
						{% endfor %}
					</div>
					<!-- #endregion -->
				</div>
			</div>
		</div>

		<div class="flex-row-3 w-100"> 3 </div>

		<div class="flex-row-4 w-100"> 4 </div>
	</div>

	<!-- #region ==== GAME FOOTER =========================================================================== -->
	<div class="row w-100 no-gutters mx-auto mb-3 game-footer">
		Game footer
	</div>
	<!-- #endregion -->

</div>

{% endfor %}
{% endblock %}